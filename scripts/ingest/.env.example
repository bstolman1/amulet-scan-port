# --------------------------------------------
# FETCHER SETTINGS (with adaptive rate limiting)
# --------------------------------------------
# Starting point - will auto-tune between MIN and MAX
PARALLEL_FETCHES=8
MIN_PARALLEL_FETCHES=2
MAX_PARALLEL_FETCHES=24

# Latency thresholds for auto-tuning (milliseconds)
LATENCY_LOW_MS=500
LATENCY_HIGH_MS=2000
LATENCY_CRITICAL_MS=5000

# Keep batches at 1000â€“20000 depending on your taste
BATCH_SIZE=1000

# --------------------------------------------
# WORKER THREAD SETTINGS
# --------------------------------------------
# Optimal for your CPU (adjust based on hardware threads)
MAX_WORKERS=24

# Larger chunks = fewer ZSTD flushes = higher throughput
CHUNK_SIZE=4096

# --------------------------------------------
# COMPRESSION SETTINGS
# --------------------------------------------
# Slightly higher compression, negligible speed loss
ZSTD_LEVEL=2

# Larger I/O buffer for streaming decompression and worker pipes
IO_BUFFER_SIZE=1048576

# --------------------------------------------
# FILE MANAGEMENT
# --------------------------------------------
MAX_ROWS_PER_FILE=20000
SCAN_URL=https://scan.sv-1.global.canton.network.sync.global/api/scan

# Make sure this is where your ingestion pipeline writes data
# Windows example: C:\ledger_raw
# Linux/Mac example: /var/lib/amulet-scan/ledger_raw
DATA_DIR=/path/to/ledger_raw
CURSOR_DIR=/path/to/ledger_raw/cursors

# Faster file writes
FLUSH_INTERVAL_MS=0

# --------------------------------------------
# GROUPS.IO API
# --------------------------------------------
# Get your API key from https://groups.io
GROUPS_IO_API_KEY=your-groups-io-api-key
